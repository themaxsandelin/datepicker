"use strict";Date.prototype.isLeapYear=function(){var e=this.getFullYear();return!(e<1582)&&(e%4==0&&(e%100!=0||e%400==0))},Date.prototype.getLocalTimestamp=function(){var e=this.getTime();return this.getTimezoneOffset()<0?e+=-1*this.getTimezoneOffset()/60*36e5:this.getTimezoneOffset()>0&&(e-=this.getTimezoneOffset()/60*36e5),e},Date.prototype.getFirstWeek=function(e){var t=this.getFullYear()+(void 0!==e?e:0),a=new Date(t-1+"-12-31T00:00:00"),i=new Date(t+"-01-01T00:00:00"),o=i.getDay()?i.getDay():7,r=1;o>4&&(r=(6===o?a.isLeapYear():5===o)?53:52);var n=i.getTime()-(o>1?864e5*(o-1):0),s=i.getTime()+(o<7?864e5*(7-o):0)+86399e3;return{week:r,startTime:new Date(n).getLocalTimestamp(),endTime:new Date(s).getLocalTimestamp()}},Date.prototype.getWeek=function(){var e=this.getFirstWeek(),t=this.getFirstWeek(1),a=this.getLocalTimestamp();if(a>=e.startTime&&a<=e.endTime)return e.week;if(a>=t.startTime&&a<=t.endTime)return t.week;var i=1===e.week?e.startTime:e.endTime+1e3;new Date(i);return Math.floor((a-i)/1e3/60/60/24/7+1)},Date.prototype.isToday=function(){var e=new Date;return e.getFullYear()+"-"+e.getMonth()+"-"+e.getDate()==this.getFullYear()+"-"+this.getMonth()+"-"+this.getDate()};var now=new Date("2017-09-06T16:40:00");console.log(now.getWeek()),console.log(now.isLeapYear()),console.log(now.isToday());